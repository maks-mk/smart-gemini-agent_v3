# –ö–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É–µ–º–∞—è —Å–∏—Å—Ç–µ–º–∞ –Ω–∞–º–µ—Ä–µ–Ω–∏–π

## –û–±–∑–æ—Ä

–°–∏—Å—Ç–µ–º–∞ –Ω–∞–º–µ—Ä–µ–Ω–∏–π —Ç–µ–ø–µ—Ä—å –ø–æ–ª–Ω–æ—Å—Ç—å—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É–µ–º–∞ —á–µ—Ä–µ–∑ JSON —Ñ–∞–π–ª `intents.json`. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç:

- ‚úÖ **–õ–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ –Ω–∞–º–µ—Ä–µ–Ω–∏—è** –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ–¥–∞
- ‚úÖ **–ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã** —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è
- ‚úÖ **–ù–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å fallback –º–µ—Ö–∞–Ω–∏–∑–º—ã**
- ‚úÖ **–ö–∞—Å—Ç–æ–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–µ –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞**
- ‚úÖ **–£–ø—Ä–∞–≤–ª—è—Ç—å –æ—á–∏—Å—Ç–∫–æ–π –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤**

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–∞ intents.json

### 1. –û—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞–º–µ—Ä–µ–Ω–∏—è (intent_patterns)

```json
{
  "intent_patterns": {
    "create_file": {
      "description": "–°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Ñ–∞–π–ª–∞",
      "patterns": [
        "(?:—Å–æ–∑–¥–∞–π|—Å–æ–∑–¥–∞—Ç—å|—Å–¥–µ–ª–∞–π|–Ω–æ–≤—ã–π)\\s+(?:excel\\s+)?—Ñ–∞–π–ª\\s+([^\\s]+)"
      ],
      "extract_content": {
        "pattern": "—Å —Å–æ–¥–µ—Ä–∂–∏–º—ã–º\\s+(.+)|—Å —Ç–µ–∫—Å—Ç–æ–º\\s+(.+)",
        "parameter": "content"
      }
    }
  }
}
```

**–ü–æ–ª—è:**
- `description` - –æ–ø–∏—Å–∞–Ω–∏–µ –Ω–∞–º–µ—Ä–µ–Ω–∏—è
- `patterns` - –º–∞—Å—Å–∏–≤ —Ä–µ–≥—É–ª—è—Ä–Ω—ã—Ö –≤—ã—Ä–∞–∂–µ–Ω–∏–π –¥–ª—è —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è
- `extract_content` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) - –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

### 2. –†–µ–∑–µ—Ä–≤–Ω—ã–µ –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞ (fallback_keywords)

```json
{
  "fallback_keywords": [
    {
      "primary_words": ["—Ñ–∞–π–ª", "file"],
      "secondary_words": ["—Å–æ–∑–¥–∞–π", "create"],
      "intent": "create_file"
    }
  ]
}
```

### 3. –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–µ –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞ (context_keywords)

```json
{
  "context_keywords": {
    "numeric_references": ["1", "2", "3", "4", "5"],
    "context_phrases": ["–ø–µ—Ä–≤—ã–π", "–≤—Ç–æ—Ä–æ–π", "–¥–∞", "–¥–∞–≤–∞–π"],
    "rename_keywords": ["–ø–µ—Ä–µ–∏–º–µ–Ω—É–π", "rename"],
    "exclusion_words": [".", "—Ñ–∞–π–ª"]
  }
}
```

### 4. –û—á–∏—Å—Ç–∫–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ (target_cleanup)

```json
{
  "target_cleanup": {
    "remove_prefixes": [
      "^(—Ñ–∞–π–ª|—Ñ–∞–π–ª–∞|file)\\s+",
      "^(–ø–∞–ø–∫—É|–ø–∞–ø–∫–∞|folder|directory)\\s+"
    ]
  }
}
```

## –ö–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤–æ–µ –Ω–∞–º–µ—Ä–µ–Ω–∏–µ

### –ü—Ä–∏–º–µ—Ä: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–∞–º–µ—Ä–µ–Ω–∏—è "–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Ñ–∞–π–ª"

1. –û—Ç–∫—Ä–æ–π—Ç–µ `intents.json`
2. –î–æ–±–∞–≤—å—Ç–µ –≤ —Å–µ–∫—Ü–∏—é `intent_patterns`:

```json
"copy_file": {
  "description": "–ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–∞",
  "patterns": [
    "(?:–∫–æ–ø–∏—Ä—É–π|—Å–∫–æ–ø–∏—Ä—É–π|copy)\\s+—Ñ–∞–π–ª\\s+([^\\s]+)\\s+–≤\\s+([^\\s]+)",
    "(?:cp|copy)\\s+([^\\s]+)\\s+([^\\s]+)"
  ]
}
```

3. –î–æ–±–∞–≤—å—Ç–µ –≤ fallback_keywords:

```json
{
  "primary_words": ["–∫–æ–ø–∏—Ä—É–π", "copy", "—Å–∫–æ–ø–∏—Ä—É–π"],
  "secondary_words": ["—Ñ–∞–π–ª"],
  "intent": "copy_file"
}
```

4. –û–±–Ω–æ–≤–∏—Ç–µ –∫–æ–¥ –∞–≥–µ–Ω—Ç–∞ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –Ω–æ–≤–æ–≥–æ –Ω–∞–º–µ—Ä–µ–Ω–∏—è –≤ `_get_intent_instruction()`

## –ö–∞–∫ –∏–∑–º–µ–Ω–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã

### –ü—Ä–∏–º–µ—Ä: –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ —Å–æ–∑–¥–∞–Ω–∏—è —Ñ–∞–π–ª–∞

–ü—Ä–æ—Å—Ç–æ –¥–æ–±–∞–≤—å—Ç–µ –Ω–æ–≤—ã–µ —Ä–µ–≥—É–ª—è—Ä–Ω—ã–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è –≤ –º–∞—Å—Å–∏–≤ `patterns`:

```json
"create_file": {
  "patterns": [
    "(?:—Å–æ–∑–¥–∞–π|—Å–æ–∑–¥–∞—Ç—å|—Å–¥–µ–ª–∞–π|–Ω–æ–≤—ã–π)\\s+(?:excel\\s+)?—Ñ–∞–π–ª\\s+([^\\s]+)",
    "–Ω–æ–≤—ã–π\\s+–¥–æ–∫—É–º–µ–Ω—Ç\\s+([^\\s]+)",
    "make\\s+new\\s+file\\s+([^\\s]+)"
  ]
}
```

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π

```python
from smart_gemini_agent.core.intent_analyzer import IntentAnalyzer

# –°–æ–∑–¥–∞—Ç—å –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä —Å debug —Ä–µ–∂–∏–º–æ–º
analyzer = IntentAnalyzer(debug_mode=True)

# –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞–º–µ—Ä–µ–Ω–∏–µ
intent, params = analyzer.analyze_intent("—Å–æ–∑–¥–∞–π —Ñ–∞–π–ª test.py —Å —Å–æ–¥–µ—Ä–∂–∏–º—ã–º hello world")
print(f"Intent: {intent}, Params: {params}")
```

## –†–µ–∑–µ—Ä–≤–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–ï—Å–ª–∏ —Ñ–∞–π–ª `intents.json` –Ω–µ –Ω–∞–π–¥–µ–Ω –∏–ª–∏ –ø–æ–≤—Ä–µ–∂–¥–µ–Ω, —Å–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –≤—Å—Ç—Ä–æ–µ–Ω–Ω—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏–∑ –º–µ—Ç–æ–¥–∞ `_get_default_intents_config()`.

## –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–ü—Ä–∏ –≤–∫–ª—é—á–µ–Ω–Ω–æ–º `debug_mode=True` –≤ –∫–æ–Ω—Å–æ–ª—å –≤—ã–≤–æ–¥–∏—Ç—Å—è:
- ‚úÖ –£—Å–ø–µ—à–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- üéØ –ù–∞–π–¥–µ–Ω–Ω—ã–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤
- ‚ö†Ô∏è –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –æ –ø—Ä–æ–±–ª–µ–º–∞—Ö —Å —Ñ–∞–π–ª–æ–º

## –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –Ω–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã

1. **–ì–∏–±–∫–æ—Å—Ç—å** - –º–æ–∂–Ω–æ –º–µ–Ω—è—Ç—å –ø–æ–≤–µ–¥–µ–Ω–∏–µ –±–µ–∑ –ø–µ—Ä–µ–∫–æ–º–ø–∏–ª—è—Ü–∏–∏
2. **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å** - –ª–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ —è–∑—ã–∫–∏ –∏ –∫–æ–º–∞–Ω–¥—ã
3. **–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–æ—Å—Ç—å** - –∏–∑–º–µ–Ω–µ–Ω–∏—è –ª–æ–∫–∞–ª–∏–∑–æ–≤–∞–Ω—ã –≤ JSON —Ñ–∞–π–ª–µ
4. **–¢–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å** - –º–æ–∂–Ω–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å —Ä–∞–∑–Ω—ã–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –¥–ª—è —Ç–µ—Å—Ç–æ–≤
5. **–î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ—Å—Ç—å** - –∫–∞–∂–¥–æ–µ –Ω–∞–º–µ—Ä–µ–Ω–∏–µ –∏–º–µ–µ—Ç –æ–ø–∏—Å–∞–Ω–∏–µ

## –ú–∏–≥—Ä–∞—Ü–∏—è —Å—Ç–∞—Ä—ã—Ö –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π

–°—Ç–∞—Ä—ã–µ hardcoded –ø–∞—Ç—Ç–µ—Ä–Ω—ã –∏–∑ –∫–æ–¥–∞ –±—ã–ª–∏ –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω—ã –≤ JSON —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏. –°–∏—Å—Ç–µ–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ–±—Ä–∞—Ç–Ω–æ —Å–æ–≤–º–µ—Å—Ç–∏–º–∞.