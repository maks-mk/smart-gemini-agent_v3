# üß† Smart Gemini Agent v5.0 ‚Äî Production-ready: Agent Ops, –ü–∞–º—è—Ç—å, –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ, –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

[![Python](https://img.shields.io/badge/Python-3.8+-blue.svg)](https://python.org)
[![License](https://img.shields.io/badge/License-MIT-green.svg)](LICENSE)
[![Gemini](https://img.shields.io/badge/AI-Google%20Gemini-orange.svg)](https://ai.google.dev/)
[![OpenRouter](https://img.shields.io/badge/AI-OpenRouter-purple.svg)](https://openrouter.ai/)
[![MCP](https://img.shields.io/badge/Protocol-MCP-purple.svg)](https://modelcontextprotocol.io/)
[![Architecture](https://img.shields.io/badge/Architecture-Modular-brightgreen.svg)](#)
[![HTTP Transport](https://img.shields.io/badge/Transport-HTTP%2FSSE-blue.svg)](#)

## ‚ú® –ß—Ç–æ –Ω–æ–≤–æ–≥–æ –≤ v5.0

- **Agent Ops (–Ω–∞–±–ª—é–¥–∞–µ–º–æ—Å—Ç—å):** –º–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏, –¥–µ—Ç–∞–ª—å–Ω–∞—è —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∞, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—Ü–µ–Ω–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ (LM Judge)
- **–î–æ–ª–≥–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è –ø–∞–º—è—Ç—å:** –≤–µ–∫—Ç–æ—Ä–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–π + —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫ (RAG)
- **–ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ:** –¥–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏—è —Å–ª–æ–∂–Ω—ã—Ö –∑–∞–¥–∞—á, –ø—Ä–∏–æ—Ä–∏—Ç–∏–∑–∞—Ü–∏—è, –ø—Ä–æ–≥—Ä–µ—Å—Å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:** –≥–∏–±—Ä–∏–¥–Ω—ã–µ guardrails (–¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ + LLM-–≤–∞–ª–∏–¥–∞—Ü–∏—è, HITL)
- **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:** –Ω–æ–≤—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤–∫–ª—é—á–µ–Ω–∏—è –º–æ–¥—É–ª–µ–π, –ø—É—Ç–∏ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** QuickStart v5, Integration Guide, Upgrade Summary

–ë—ã—Å—Ç—Ä—ã–µ —Å—Å—ã–ª–∫–∏:
- üìò [QUICKSTART_V5.md](./QUICKSTART_V5.md)
- üîß [INTEGRATION_GUIDE.md](./INTEGRATION_GUIDE.md)
- üìà [UPGRADE_TO_V5_SUMMARY.md](./UPGRADE_TO_V5_SUMMARY.md)
- ‚úÖ [INTEGRATION_COMPLETE.md](./INTEGRATION_COMPLETE.md)
 - üß© [CONFIG_EXAMPLES.md](./docs/CONFIG_EXAMPLES.md)
 - üõ† [CODE_OPTIMIZATION_SUMMARY.md](./CODE_OPTIMIZATION_SUMMARY.md)


## üöÄ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤ –ò–ò

–ê–≥–µ–Ω—Ç –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç **Google Gemini** –∏ **OpenAI-—Å–æ–≤–º–µ—Å—Ç–∏–º—ã–µ API** (OpenAI, OpenRouter, Moonshot AI, –∏ –¥—Ä—É–≥–∏–µ).

–ü–æ–ª–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω—ã –≤: [docs/CONFIG_EXAMPLES.md](./docs/CONFIG_EXAMPLES.md)

**–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã:**
- ‚úÖ **OpenAI** (–æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π OpenAI API)
- ‚úÖ **OpenRouter** (–∞–≥—Ä–µ–≥–∞—Ç–æ—Ä –º–æ–¥–µ–ª–µ–π)
- ‚úÖ **Moonshot AI** (–º–æ–¥–µ–ª–∏ kimi)
- ‚úÖ **–õ—é–±–æ–π OpenAI-—Å–æ–≤–º–µ—Å—Ç–∏–º—ã–π API** —á–µ—Ä–µ–∑ `OPENAI_BASE_URL`

**–ü—Ä–∏–º–µ—Ä—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π:**
- `config.json` - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (–º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ –¥–ª—è –ª—é–±–æ–≥–æ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞)
- `test-openrouter-config.json` - –ø—Ä–∏–º–µ—Ä –¥–ª—è OpenRouter/Moonshot AI

## üìÅ –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
üì¶ Smart Gemini Agent v5.0
‚îú‚îÄ‚îÄ üìÅ smart_gemini_agent/        # –û—Å–Ω–æ–≤–Ω–æ–π –ø–∞–∫–µ—Ç
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ config/               # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ agent_config.py      # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∞–≥–µ–Ω—Ç–∞
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ logging_config.py    # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ tools/                # –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ base_tools.py        # –ë–∞–∑–æ–≤—ã–µ –∫–ª–∞—Å—Å—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ delete_tools.py      # –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ planning_tools.py    # –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø–ª–∞–Ω–æ–≤ (plan_create/plan_next/plan_run)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ tool_analyzer.py     # –ê–Ω–∞–ª–∏–∑ –∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ core/                 # –û—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ agent.py             # –ì–ª–∞–≤–Ω—ã–π –∫–ª–∞—Å—Å –∞–≥–µ–Ω—Ç–∞ —Å —É–ª—É—á—à–µ–Ω–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –æ—à–∏–±–æ–∫
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ prompt_manager.py    # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–º–ø—Ç–∞–º–∏
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ response_formatter.py # –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç–≤–µ—Ç–æ–≤ —Å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–º –Ω–∞ JSON –¥–ª—è –±–æ–ª—å—à–µ–π –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ observability/         # Agent Ops: –º–µ—Ç—Ä–∏–∫–∏, —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∞, –æ—Ü–µ–Ω–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ metrics.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ tracing.py
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ evaluation.py
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ memory/                # –î–æ–ª–≥–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è –ø–∞–º—è—Ç—å –∏ –∏—Å—Ç–æ—Ä–∏—è —Å–µ—Å—Å–∏–π
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ long_term_memory.py
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ interaction_store.py
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ planning/              # –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –¥–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏—è –∑–∞–¥–∞—á
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ task_planner.py
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ security/              # Guardrails: –¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ + LLM
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ guardrails.py
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ ui/                   # –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ rich_chat.py         # –¢–µ—Ä–º–∏–Ω–∞–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ display_utils.py     # –£—Ç–∏–ª–∏—Ç—ã –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ üìÅ utils/                # –£—Ç–∏–ª–∏—Ç—ã
‚îÇ       ‚îú‚îÄ‚îÄ decorators.py        # –î–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã
‚îÇ       ‚îú‚îÄ‚îÄ file_formatters.py   # –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤
‚îÇ       ‚îî‚îÄ‚îÄ constants.py         # –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã –∏ –ø–∞—Ç—Ç–µ—Ä–Ω—ã v5.0
‚îú‚îÄ‚îÄ üìÑ main.py                   # üöÄ –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îú‚îÄ‚îÄ üìÑ config.json               # ‚öôÔ∏è –û—Å–Ω–æ–≤–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ üìÑ security_policies.json    # üîí –ü–æ–ª–∏—Ç–∏–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ (v5.0)
‚îú‚îÄ‚îÄ üìÑ test-openrouter-config.json # ‚öôÔ∏è –ü—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –¥–ª—è OpenRouter
‚îú‚îÄ‚îÄ üìÅ docs/                     # üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ CONFIG_EXAMPLES.md       # –ü—Ä–∏–º–µ—Ä—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π v5.0
‚îú‚îÄ‚îÄ üìÑ .env.example              # üìÑ –ü—Ä–∏–º–µ—Ä —Ñ–∞–π–ª–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ üìÑ prompt_new.md             # üìù –ê–∫—Ç–∏–≤–Ω—ã–π —Å–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç v5.0 (files.prompt_file –≤ config.json)
‚îú‚îÄ‚îÄ üìÑ prompt_optimized.md       # üìù –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π/–æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø—Ä–æ–º–ø—Ç
‚îú‚îÄ‚îÄ üìÑ mcp.json                  # üîå –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è MCP —Å–µ—Ä–≤–µ—Ä–æ–≤
‚îú‚îÄ‚îÄ üìÑ requirements.txt          # üì¶ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ üìÑ QUICKSTART_V5.md          # üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç v5.0
‚îú‚îÄ‚îÄ üìÑ INTEGRATION_GUIDE.md      # üîß –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ üìÑ UPGRADE_TO_V5_SUMMARY.md  # üìà –°–≤–æ–¥–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π v5.0
‚îú‚îÄ‚îÄ üìÑ INTEGRATION_COMPLETE.md   # ‚úÖ –°—Ç–∞—Ç—É—Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ v5.0
‚îú‚îÄ‚îÄ üìÑ CODE_OPTIMIZATION_SUMMARY.md # üõ† –°–≤–æ–¥–∫–∞ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–π –∫–æ–¥–∞ v5.0
‚îî‚îÄ‚îÄ üìÑ README.md                 # üìñ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
```bash
pip install -r requirements.txt
# –ù–æ–≤–æ–µ –≤ v5.0: –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –¥–ª—è –º–µ—Ç—Ä–∏–∫
pip install prometheus-client>=0.19.0
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è
–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ–≤–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ `.env.example`:

```bash
cp .env.example .env
```

–ó–∞—Ç–µ–º –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª `.env`, –¥–æ–±–∞–≤–∏–≤ –∫–ª—é—á–∏ –∏ –æ–ø—Ü–∏–∏:

**–î–ª—è Google Gemini:**
```
GOOGLE_API_KEY=your_gemini_api_key_here
FILESYSTEM_PATH=D:\\smart-gemini-agent_v3\\
TEMPERATURE=0.1
```

**–î–ª—è OpenAI-—Å–æ–≤–º–µ—Å—Ç–∏–º—ã—Ö API (OpenRouter, Moonshot AI, –∏ –¥—Ä.):**
```
OPENAI_API_KEY=your_openai_api_key_here
OPENAI_BASE_URL=https://api.moonshot.ai/v1
FILESYSTEM_PATH=D:\\smart-gemini-agent_v3\\
TEMPERATURE=0.1
```

–ò–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ –≤–∞—à–µ–π —Å–∏—Å—Ç–µ–º–µ:

```bash
# Google Gemini
export GOOGLE_API_KEY="your_gemini_api_key"

# OpenAI/OpenRouter/Moonshot AI
export OPENAI_API_KEY="your_api_key"
export OPENAI_BASE_URL="https://api.moonshot.ai/v1"  # Moonshot AI
# –∏–ª–∏: https://openrouter.ai/api/v1  # OpenRouter
# –∏–ª–∏: https://api.openai.com/v1      # OpenAI

# –û–±—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
export FILESYSTEM_PATH="D:/smart-gemini-agent_v3/"
export TEMPERATURE=0.1
```

### 3. –ó–∞–ø—É—Å–∫ –º–æ–¥—É–ª—å–Ω–æ–π –≤–µ—Ä—Å–∏–∏
```
# –ó–∞–ø—É—Å–∫ —Å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
python main.py

# –ó–∞–ø—É—Å–∫ —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–º —Ñ–∞–π–ª–æ–º –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
python main.py --config test-openrouter-config.json
```
 
## üß≠ –°–∏—Å—Ç–µ–º–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

- `/help` ‚Äî –ø–æ–∫–∞–∑–∞—Ç—å —Å–ø—Ä–∞–≤–∫—É
- `/status` ‚Äî —Å—Ç–∞—Ç—É—Å –∞–≥–µ–Ω—Ç–∞ –∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤
- `/history [N]` ‚Äî –ø–æ—Å–ª–µ–¥–Ω–∏–µ N –∑–∞–ø–∏—Å–µ–π –∏—Å—Ç–æ—Ä–∏–∏
- `/clear` ‚Äî –æ—á–∏—Å—Ç–∏—Ç—å —ç–∫—Ä–∞–Ω
- `/tree [path]` ‚Äî –ø–æ–∫–∞–∑–∞—Ç—å —Ñ–∞–π–ª–æ–≤—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É
- `/tools` ‚Äî –ø–æ–∫–∞–∑–∞—Ç—å –¥–æ—Å—Ç—É–ø–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã
- `/reload` ‚Äî –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å —Å–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç –∏–∑ —Ñ–∞–π–ª–∞
- `/memory` ‚Äî –æ—á–∏—Å—Ç–∏—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—É—é –ø–∞–º—è—Ç—å –∞–≥–µ–Ω—Ç–∞
- `/insights` ‚Äî –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
- `/export_context [json|markdown]` ‚Äî —ç–∫—Å–ø–æ—Ä—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
- `/export` ‚Äî —ç–∫—Å–ø–æ—Ä—Ç –∏—Å—Ç–æ—Ä–∏–∏ —á–∞—Ç–∞ –≤ —Ñ–∞–π–ª
- `/quit` ‚Äî –≤—ã—Ö–æ–¥

### –ù–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã v5.0
- `/metrics` ‚Äî –ø–æ–∫–∞–∑–∞—Ç—å –º–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∞–≥–µ–Ω—Ç–∞
- `/traces [N]` ‚Äî –ø–æ–∫–∞–∑–∞—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–µ N —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–æ–∫
- `/memory_stats` ‚Äî —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –¥–æ–ª–≥–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–π –ø–∞–º—è—Ç–∏
- `/memory_search <–∑–∞–ø—Ä–æ—Å>` ‚Äî –ø–æ–∏—Å–∫ –ø–æ—Ö–æ–∂–∏—Ö –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–π
- `/memory_clear` ‚Äî –æ—á–∏—Å—Ç–∫–∞ –¥–æ–ª–≥–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–π –ø–∞–º—è—Ç–∏
- `/plan <–∑–∞–¥–∞—á–∞>` ‚Äî —Å–æ–∑–¥–∞—Ç—å –ø–ª–∞–Ω –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Å–ª–æ–∂–Ω–æ–π –∑–∞–¥–∞—á–∏
- `/run_plan` ‚Äî –≤—ã–ø–æ–ª–Ω–∏—Ç—å —Ç–µ–∫—É—â–∏–π –ø–ª–∞–Ω –¥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è (—Ç—Ä–µ–±—É–µ—Ç —è–≤–Ω–æ–≥–æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –≤ UI)
- `/next` ‚Äî –≤—ã–ø–æ–ª–Ω–∏—Ç—å —Å–ª–µ–¥—É—é—â—É—é –¥–æ—Å—Ç—É–ø–Ω—É—é –ø–æ–¥–∑–∞–¥–∞—á—É –∏–∑ –ø–ª–∞–Ω–∞
- `/security_stats` ‚Äî —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–∏—Å—Ç–µ–º—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

### ‚ö†Ô∏è –ö–æ–Ω—Ç—Ä–æ–ª—å –∑–∞—Ü–∏–∫–ª–∏–≤–∞–Ω–∏—è –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤
- –ê–≥–µ–Ω—Ç –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–¥—Ä—è–¥ –∏–¥—É—â–∏—Ö –≤—ã–∑–æ–≤–æ–≤ –æ–¥–Ω–æ–≥–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞. –ü—Ä–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏ –ª–∏–º–∏—Ç–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 10 –ø–æ–≤—Ç–æ—Ä–æ–≤, —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏–µ –Ω–∞ –æ—á–µ—Ä–µ–¥–Ω–æ–º –≤—ã–∑–æ–≤–µ) –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø—Ä–µ—Ä—ã–≤–∞–µ—Ç—Å—è –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ–º ¬´Loop: ‚Ä¶¬ª.
- –õ–∏–º–∏—Ç —Ä–µ–≥—É–ª–∏—Ä—É–µ—Ç—Å—è –∫–æ–Ω—Å—Ç–∞–Ω—Ç–æ–π `MAX_TOOL_REPEATS` –≤ `smart_gemini_agent/utils/constants.py` –∏ –º–æ–∂–µ—Ç –±—ã—Ç—å –∏–∑–º–µ–Ω—ë–Ω –ø–æ–¥ –∑–∞–¥–∞—á–∏ –∫–æ–º–∞–Ω–¥—ã.
- –ö–æ–º–∞–Ω–¥–∞ `/–ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å` –≤–∫–ª—é—á–∞–µ—Ç —Ä–µ–∂–∏–º –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω–∏—è –∑–∞—Ü–∏–∫–ª–∏–≤–∞–Ω–∏—è. –ù–∞—á–∏–Ω–∞—è —Å–æ —Å–ª–µ–¥—É—é—â–µ–≥–æ –∑–∞–ø—Ä–æ—Å–∞ –∞–≥–µ–Ω—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç –Ω–æ–≤—ã–π –ø–æ—Ç–æ–∫ –∏—Å—Ç–æ—Ä–∏–∏, —á—Ç–æ–±—ã —É—Å—Ç—Ä–∞–Ω–∏—Ç—å –Ω–µ–∑–∞–≤–µ—Ä—à—ë–Ω–Ω—ã–µ `tool_calls` –∏ –∏–∑–±–µ–∂–∞—Ç—å –æ—à–∏–±–∫–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ `ToolMessage`.
- –ö–æ–º–∞–Ω–¥–∞ `/–æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π —Ä–µ–∂–∏–º, –∫–æ–≥–¥–∞ –∞–≥–µ–Ω—Ç –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–º –∑–∞—Ü–∏–∫–ª–∏–≤–∞–Ω–∏–∏.

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ–∞–π–ª—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

| –§–∞–π–ª | –û–ø–∏—Å–∞–Ω–∏–µ | –ú–æ–¥—É–ª—å |
|------|----------|--------|
| `config.json` | –û—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∞–≥–µ–Ω—Ç–∞ (–ª—é–±–æ–π –ø—Ä–æ–≤–∞–π–¥–µ—Ä) | `config/agent_config.py` |
| `test-openrouter-config.json` | –ü—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –¥–ª—è OpenRouter/Moonshot | `config/agent_config.py` |
| `.env` | –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (API –∫–ª—é—á–∏, OPENAI_BASE_URL) | –í—Å—è —Å–∏—Å—Ç–µ–º–∞ |
| `intents.json` | –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –Ω–∞–º–µ—Ä–µ–Ω–∏–π –∏ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è IntentAnalyzer) | `core/intent_analyzer.py` |
| `prompt_new.md` | –¢–µ–∫—É—â–∏–π —Å–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç (files.prompt_file –≤ `config.json`) | `core/prompt_manager.py` |
| `mcp.json` | –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è MCP —Å–µ—Ä–≤–µ—Ä–æ–≤ | `config/agent_config.py` |

### –ü—Ä–∏–º–µ—Ä config.json –¥–ª—è Google Gemini
```json
{
  "agent": {
    "model_name": "gemini-2.5-flash",
    "model_provider": "gemini",
    "temperature": 0.1,
    "use_memory": true,
    "max_context_files": 20
  },
  "interface": {
    "improve_file_formatting": true,
    "syntax_highlighting": true,
    "theme": "dark"
  },
  "logging": {
    "level": "INFO"
  },
  "files": {
    "prompt_file": "prompt_new.md",
    "mcp_config_file": "mcp.json"
  }
}
```

### –ü—Ä–∏–º–µ—Ä config.json –¥–ª—è OpenAI-—Å–æ–≤–º–µ—Å—Ç–∏–º—ã—Ö API
```json
{
  "agent": {
    "model_name": "kimi-k2-0905-preview",
    "model_provider": "openai",
    "temperature": 0.1,
    "use_memory": true,
    "max_context_files": 20
  },
  "interface": {
    "improve_file_formatting": true,
    "syntax_highlighting": true,
    "theme": "dark"
  },
  "logging": {
    "level": "INFO"
  },
  "files": {
    "prompt_file": "prompt_optimized.md",
    "mcp_config_file": "mcp.json"
  }
}
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –í `.env` –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω `OPENAI_BASE_URL` –¥–ª—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–≥–æ API –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞.



## üí° –ö–ª—é—á–µ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- **Agent Ops**: –º–µ—Ç—Ä–∏–∫–∏, —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∞, –æ—Ü–µ–Ω–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞
- **–ü–∞–º—è—Ç—å**: –¥–æ–ª–≥–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è –ø–∞–º—è—Ç—å —Å —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–º –ø–æ–∏—Å–∫–æ–º (RAG)
- **–ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ**: –¥–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏—è –∑–∞–¥–∞—á, –ø—Ä–æ–≥—Ä–µ—Å—Å, –ø—Ä–∏–æ—Ä–∏—Ç–∏–∑–∞—Ü–∏—è
- **Guardrails**: –ø–æ–ª–∏—Ç–∏–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ + LLM‚Äë–≤–∞–ª–∏–¥–∞—Ü–∏—è
- **–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å**: Rich UI, —Å–∏—Å—Ç–µ–º–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã, —ç–∫—Å–ø–æ—Ä—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞

### –ü—Ä–∏–º–µ—Ä—ã –∫–æ–º–∞–Ω–¥ (–ø–∞–º—è—Ç—å –∏ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ)
- `/memory_stats` ‚Äî —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–∞–º—è—Ç–∏
- `/memory_search –∫–∞–∫ —Å–æ–∑–¥–∞—Ç—å REST API` ‚Äî –ø–æ–∏—Å–∫ –ø–æ—Ö–æ–∂–∏—Ö –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–π
- `/memory_clear` ‚Äî –æ—á–∏—Å—Ç–∫–∞ –¥–æ–ª–≥–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–π –ø–∞–º—è—Ç–∏
- `/plan –°–æ–∑–¥–∞–π REST API —Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π` ‚Äî –ø–æ—Å—Ç—Ä–æ–∏—Ç—å –ø–ª–∞–Ω –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- `/run_plan` ‚Äî –ø–æ–ª–Ω—ã–π –∑–∞–ø—É—Å–∫ —Ä–∞–Ω–µ–µ —Å–æ–∑–¥–∞–Ω–Ω–æ–≥–æ –ø–ª–∞–Ω–∞ –ø–æ—Å–ª–µ —è–≤–Ω–æ–≥–æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è `y/yes/–¥–∞`
- `/next` ‚Äî –ø–æ—ç—Ç–∞–ø–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø–ª–∞–Ω–∞ (—Å–ª–µ–¥—É—é—â–∏–π —à–∞–≥)
- `/traces 5` ‚Äî –ø–æ—Å–ª–µ–¥–Ω–∏–µ 5 —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–æ–∫
- `/metrics` ‚Äî —Å–≤–æ–¥–∫–∞ –º–µ—Ç—Ä–∏–∫

## üí° –ú–æ–∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

–Ø –º–æ–≥—É –≤—ã–ø–æ–ª–Ω—è—Ç—å —à–∏—Ä–æ–∫–∏–π —Å–ø–µ–∫—Ç—Ä –∑–∞–¥–∞—á, –∏—Å–ø–æ–ª—å–∑—É—è —Ä–∞–∑–ª–∏—á–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã. –í–æ—Ç –æ—Å–Ω–æ–≤–Ω—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –º–æ–∏—Ö –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏ –∫–æ–º–∞–Ω–¥:

### üìÅ –†–∞–±–æ—Ç–∞ —Å —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–æ–π
–ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–∞–º–∏ —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –≤—ã–±–æ—Ä–æ–º –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤:
-   **–ß—Ç–µ–Ω–∏–µ**: `–ø–æ–∫–∞–∂–∏ config.json` / `–ø—Ä–æ—á–∏—Ç–∞–π script.py`
-   **–°–æ–∑–¥–∞–Ω–∏–µ**: `—Å–æ–∑–¥–∞–π test.txt —Å —Ç–µ–∫—Å—Ç–æ–º "Hello"` / `–Ω–æ–≤—ã–π —Ñ–∞–π–ª data.json`
-   **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–ø–∫–∞–º–∏**: `—Å–æ–∑–¥–∞–π –ø–∞–ø–∫—É docs` / `–ø–æ–∫–∞–∂–∏ —Ñ–∞–π–ª—ã`
-   **–£–¥–∞–ª–µ–Ω–∏–µ**: `—É–¥–∞–ª–∏ temp.log` / `—É–±–µ—Ä–∏ –ø–∞–ø–∫—É old —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ`
-   **–ü–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ**: `–ø–µ—Ä–µ–º–µ—Å—Ç–∏ old.txt –≤ archive/` / `–ø–µ—Ä–µ–∏–º–µ–Ω—É–π draft.md –≤ final.md`
-   **–ü–æ–∏—Å–∫**: `–Ω–∞–π–¥–∏ —Ñ–∞–π–ª—ã *.py` / `–≥–¥–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è config?`

### üåê –ò–Ω—Ç–µ—Ä–Ω–µ—Ç –∏ –ø–æ–∏—Å–∫
–£–º–Ω—ã–π –ø–æ–∏—Å–∫ —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –≤—ã–±–æ—Ä–æ–º –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤:
-   **–í–µ–±-–ø–æ–∏—Å–∫**: `–Ω–∞–π–¥–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ Python` / `–ø–æ–∏—Å–∫ –Ω–æ–≤–æ—Å—Ç–µ–π AI`
-   **–ó–∞–≥—Ä—É–∑–∫–∞**: `—Å–∫–∞—á–∞–π —Å https://example.com` / `–ø–æ–ª—É—á–∏ –¥–∞–Ω–Ω—ã–µ —Å —Å–∞–π—Ç–∞`

### üíª –ö–æ–º–∞–Ω–¥—ã –∏ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è
–í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥ —Å –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –æ—à–∏–±–æ–∫:
-   **–°–∏—Å—Ç–µ–º–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã**: `–≤—ã–ø–æ–ª–Ω–∏ powershell "Get-Process"` / `–∑–∞–ø—É—Å—Ç–∏ cmd "dir"`

### üß† –ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–æ–µ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
–ú–Ω–æ–≥–æ—ç—Ç–∞–ø–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ —Å–ª–æ–∂–Ω—ã—Ö –∑–∞–¥–∞—á —Å –æ–±—É—á–µ–Ω–∏–µ–º:
-   **–ê–Ω–∞–ª–∏–∑ –∏ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ**: `–ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π main.py` / `—Å–ø–ª–∞–Ω–∏—Ä—É–π —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥`
-   **–ê–¥–∞–ø—Ç–∏–≤–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è**: —Å–∏—Å—Ç–µ–º–∞ —É—á–∏—Ç—Å—è –Ω–∞ –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏—è—Ö –∏ –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏


## üìä –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –†–∞–±–æ—Ç–∞ —Å —Ñ–∞–π–ª–∞–º–∏ (—Å –∞–≤—Ç–æ—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º!)
```bash
üí¨ You ‚Ä∫ : –ø–æ–∫–∞–∂–∏ config.json
```
**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```json
{
  "agent": {
    "model_name": "gemini-2.5-flash",
    "temperature": 0.0
  }
}
```

### –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã
```
# –°–æ–∑–¥–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤
"—Å–æ–∑–¥–∞–π —Ñ–∞–π–ª readme.md —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º –ø—Ä–æ–µ–∫—Ç–∞"
"—Å–¥–µ–ª–∞–π –Ω–æ–≤—ã–π —Ñ–∞–π–ª config.json"

# –ß—Ç–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤
"–ø—Ä–æ—á–∏—Ç–∞–π —Ñ–∞–π–ª config.py"      # Python —Å –ø–æ–¥—Å–≤–µ—Ç–∫–æ–π
"–ø–æ–∫–∞–∂–∏ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ data.xml"   # XML —Å —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º
"—á—Ç–æ –≤ —Ñ–∞–π–ª–µ package.json"     # JSON —Å –æ—Ç—Å—Ç—É–ø–∞–º–∏

# –†–∞–±–æ—Ç–∞ —Å –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è–º–∏
"–ø–æ–∫–∞–∂–∏ —Ñ–∞–π–ª—ã –≤ –ø–∞–ø–∫–µ"
"—Å–æ–∑–¥–∞–π –ø–∞–ø–∫—É tests"
"—á—Ç–æ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ src"

# –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ
"—É–¥–∞–ª–∏ —Å—Ç–∞—Ä—ã–π —Ñ–∞–π–ª backup.txt"
"—É–±–µ—Ä–∏ –ø–∞–ø–∫—É temp —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ"

# –í–µ–±-–ø–æ–∏—Å–∫
"–Ω–∞–π–¥–∏ –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ Python"
"–ø–æ–∏—Å–∫ –≤ —Å–µ—Ç–∏ –ø–æ—Å–ª–µ–¥–Ω–∏–µ –Ω–æ–≤–æ—Å—Ç–∏ AI"

# –ó–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –∏–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞
"—Å–∫–∞—á–∞–π —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Å https://example.com"
"–ø–æ–ª—É—á–∏ –¥–∞–Ω–Ω—ã–µ —Å –≤–µ–±-—Å—Ç—Ä–∞–Ω–∏—Ü—ã https://google.com"

# –ú–Ω–æ–≥–æ—ç—Ç–∞–ø–Ω–æ–µ –º—ã—à–ª–µ–Ω–∏–µ –∏ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
"–ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π —Ñ–∞–π–ª –∏ –ø—Ä–µ–¥–ª–æ–∂–∏ —É–ª—É—á—à–µ–Ω–∏—è"
"–ø–æ–º–æ–≥–∏ –º–Ω–µ —Å–ø–ª–∞–Ω–∏—Ä–æ–≤–∞—Ç—å —à–∞–≥–∏ –¥–ª—è —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ –∫–æ–¥–∞"

# –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã
"1" # –í—ã–±—Ä–∞—Ç—å –ø–µ—Ä–≤—ã–π –≤–∞—Ä–∏–∞–Ω—Ç –∏–∑ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–Ω—ã—Ö
"–¥–∞" # –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –¥–µ–π—Å—Ç–≤–∏–µ
"–ø–µ—Ä–µ–∏–º–µ–Ω—É–π" # –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å –≤–º–µ—Å—Ç–æ —É–¥–∞–ª–µ–Ω–∏—è
```

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

### ‚úÖ **–ú–æ–¥—É–ª—å–Ω–æ—Å—Ç—å**
- –ö–∞–∂–¥—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ —Å–≤–æ—é –æ–±–ª–∞—Å—Ç—å
- –õ–µ–≥–∫–æ –Ω–∞–π—Ç–∏ –∏ –∏–∑–º–µ–Ω–∏—Ç—å –Ω—É–∂–Ω—ã–π –∫–æ–¥
- –ù–µ–∑–∞–≤–∏—Å–∏–º–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –º–æ–¥—É–ª–µ–π

### ‚úÖ **–†–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å**
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –≤ `tools/`
- –ù–æ–≤—ã–µ —Ñ–æ—Ä–º–∞—Ç—Ç–µ—Ä—ã –≤ `utils/file_formatters.py`
- –ö–∞—Å—Ç–æ–º–Ω—ã–µ UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –≤ `ui/`

### ‚úÖ **–¢–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å**

### ‚úÖ **–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–æ—Å—Ç—å**
- –ò–∑–º–µ–Ω–µ–Ω–∏—è –ª–æ–∫–∞–ª–∏–∑–æ–≤–∞–Ω—ã –≤ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –º–æ–¥—É–ª—è—Ö
- –ß–µ—Ç–∫–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –º–µ–∂–¥—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏
- –ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∫–∞–∂–¥–æ–≥–æ –º–æ–¥—É–ª—è

## üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –≤–µ—Ä—Å–∏–π

| –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞ | v1.0 (–ú–æ–Ω–æ–ª–∏—Ç) | v2.0 (–ú–æ–¥—É–ª—å–Ω–∞—è) |
|----------------|----------------|------------------|
| **–†–∞–∑–º–µ—Ä —Ñ–∞–π–ª–æ–≤** | 1 √ó 1924 —Å—Ç—Ä–æ–∫–∏ | 12 √ó 50-220 —Å—Ç—Ä–æ–∫ |
| **–ß–∏—Ç–∞–µ–º–æ—Å—Ç—å** | –°–ª–æ–∂–Ω–∞—è | –û—Ç–ª–∏—á–Ω–∞—è |
| **–¢–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å** | –ù–∏–∑–∫–∞—è | –í—ã—Å–æ–∫–∞—è |
| **–†–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å** | –û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–∞—è | –ë–µ–∑–≥—Ä–∞–Ω–∏—á–Ω–∞—è |
| **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ MCP** | 3 —Å–µ—Ä–≤–µ—Ä–∞ | –õ—é–±—ã–µ —Å–µ—Ä–≤–µ—Ä—ã |
| **–§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** | –ë–∞–∑–æ–≤–æ–µ | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ |
| **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞** | –ú–æ–Ω–æ–ª–∏—Ç–Ω–∞—è | –ú–æ–¥—É–ª—å–Ω–∞—è |

## üîß –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ö–∞—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤
python -m pip install --upgrade ruff black mypy

# –õ–∏–Ω—Ç–µ—Ä –∏ –∞–≤—Ç–æ–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
ruff check --fix --unsafe-fixes .

# –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞
black .

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤
mypy --ignore-missing-imports --install-types --non-interactive .
```

### –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
```

# –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –º–æ–¥—É–ª—å

# –° –ø–æ–∫—Ä—ã—Ç–∏–µ–º
pytest --cov=smart_gemini_agent tests/
```

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ MCP —Å–µ—Ä–≤–µ—Ä–∞

#### –õ–æ–∫–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä (stdio)
1. –î–æ–±–∞–≤–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –≤ `mcp.json`:
   ```json
   {
     "my-server": {
       "command": "npx",
       "args": ["-y", "@modelcontextprotocol/server-name"],
       "transport": "stdio",
       "enabled": true
     }
   }
   ```
2. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –∞–≥–µ–Ω—Ç–∞
3. –ê–≥–µ–Ω—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–∞—Ä—É–∂–∏—Ç –∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–∑–∏—Ä—É–µ—Ç –Ω–æ–≤—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã

#### HTTP —Å–µ—Ä–≤–µ—Ä (sse/streamable-http)
1. –î–æ–±–∞–≤–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –≤ `mcp.json`:
   ```json
   {
     "remote-server": {
       "transport": "sse",
       "url": "http://localhost:3000/sse",
       "enabled": true
     }
   }
   ```
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ HTTP —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω –∏ –¥–æ—Å—Ç—É–ø–µ–Ω
3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –∞–≥–µ–Ω—Ç–∞
4. –ê–≥–µ–Ω—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥–∫–ª—é—á–∏—Ç—Å—è –∏ –æ–±–Ω–∞—Ä—É–∂–∏—Ç –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã

üìñ **–ü–æ–¥—Ä–æ–±–Ω–µ–µ:** [HTTP Transport Guide](./HTTP_TRANSPORT_GUIDE.md) | [–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç](../QUICK_START_HTTP.md)

### –°–æ–∑–¥–∞–Ω–∏–µ –∫–∞—Å—Ç–æ–º–Ω–æ–≥–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞
```python
# –í tools/custom_tools.py
from .base_tools import FileSystemTool

class MyCustomTool(FileSystemTool):
    name = "my_custom_tool"
    description = "–û–ø–∏—Å–∞–Ω–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞"
    
    def _run(self, param: str) -> str:
        # –í–∞—à–∞ –ª–æ–≥–∏–∫–∞
        return self._format_success("–ì–æ—Ç–æ–≤–æ!")
```

## üõ†Ô∏è Troubleshooting

### –û–±—â–∏–µ –ø—Ä–æ–±–ª–µ–º—ã
- "SafeDeleteFileTool object has no field 'working_directory'": –æ–±–Ω–æ–≤–ª–µ–Ω–æ —è–¥—Ä–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤; —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É –≤–∞—Å —Å–≤–µ–∂–∞—è –≤–µ—Ä—Å–∏—è –∫–æ–¥–∞ –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –∞–≥–µ–Ω—Ç–∞
- –û—à–∏–±–∫–∏ –ª–∏–º–∏—Ç–æ–≤ (429): –∞–≥–µ–Ω—Ç –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –¥—Ä—É–∂–µ–ª—é–±–Ω—ã–µ —Å–æ–≤–µ—Ç—ã –ø–æ –æ–∂–∏–¥–∞–Ω–∏—é/–ø–æ–≤—Ç–æ—Ä—É, –¥–ª—è Gemini —Å–º. –∫–≤–æ—Ç—ã https://ai.google.dev/gemini-api/docs/rate-limits
- MCP –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –Ω–µ –Ω–∞—Ö–æ–¥—è—Ç—Å—è: –ø—Ä–æ–≤–µ—Ä—å—Ç–µ `mcp.json`, –≤–∫–ª—é—á—ë–Ω –ª–∏ –Ω—É–∂–Ω—ã–π —Å–µ—Ä–≤–µ—Ä (`enabled: true`) –∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞ –ª–∏ –∫–æ–º–∞–Ω–¥–∞ –∑–∞–ø—É—Å–∫–∞

### –ü—Ä–æ–±–ª–µ–º—ã —Å HTTP —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞–º–∏ (v4.0)
- **–û—à–∏–±–∫–∞: "–æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç 'url' –¥–ª—è sse —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞"**: –î–æ–±–∞–≤—å—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä `url` –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é —Å–µ—Ä–≤–µ—Ä–∞ –≤ `mcp.json`
- **–û—à–∏–±–∫–∞: "–Ω–µ–≤–∞–ª–∏–¥–Ω–∞—è —Å—Ö–µ–º–∞ URL"**: URL –¥–æ–ª–∂–µ–Ω –Ω–∞—á–∏–Ω–∞—Ç—å—Å—è —Å `http://` –∏–ª–∏ `https://`
- **–°–µ—Ä–≤–µ—Ä –Ω–µ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è**: 
  - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å URL: `curl http://your-server:port/path`
  - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω –∏ –¥–æ—Å—Ç—É–ø–µ–Ω
  - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ firewall –∏ —Å–µ—Ç–µ–≤—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
  - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –∞–≥–µ–Ω—Ç–∞ –¥–ª—è –¥–µ—Ç–∞–ª–µ–π –æ—à–∏–±–∫–∏
- **–¢–∞–π–º–∞—É—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è**: –ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Ç–∞–π–º–∞—É—Ç—ã –≤ `config.json`:
  ```json
  {
    "agent": {
      "request_timeout": 300,
      "tool_timeout": 300
    }
  }
  ```

üìñ **–ü–æ–¥—Ä–æ–±–Ω–µ–µ:** [HTTP Transport Guide](./HTTP_TRANSPORT_GUIDE.md) | [Troubleshooting](../QUICK_START_HTTP.md#–æ—Ç–ª–∞–¥–∫–∞)

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### –í–µ—Ä—Å–∏—è 4.0 (HTTP/SSE —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç—ã)
- üåê **[HTTP Transport Guide](./HTTP_TRANSPORT_GUIDE.md)** - –ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ HTTP/SSE —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞–º
- üöÄ **[–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç HTTP](../QUICK_START_HTTP.md)** - –ë—ã—Å—Ç—Ä–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ HTTP —Å–µ—Ä–≤–µ—Ä–æ–≤
- üîÑ **[–ú–∏–≥—Ä–∞—Ü–∏—è –Ω–∞ v4.0](../MIGRATION_V4.md)** - –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –º–∏–≥—Ä–∞—Ü–∏–∏
- üìä **[–û—Ç—á–µ—Ç –æ–± –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏](../OPTIMIZATION_REPORT_V4.md)** - –î–µ—Ç–∞–ª—å–Ω—ã–π –æ—Ç—á–µ—Ç –æ–± –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö
- üìã **[Changelog v4.0](../CHANGELOG_V4.md)** - –°–ø–∏—Å–æ–∫ –∏–∑–º–µ–Ω–µ–Ω–∏–π

### –û–±—â–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- üìñ **[MCP —Å–µ—Ä–≤–µ—Ä–∞ ‚Äî —É—Å—Ç–∞–Ω–æ–≤–∫–∞](./mcp_servers_installation_guide.md)**
- üîß **[OpenRouter](./OPENROUTER.md)**
- üìù **[–ü—Ä–æ–º–ø—Ç (–±–∞–∑–æ–≤—ã–π)](./prompt.md)**
- üìù **[–ü—Ä–æ–º–ø—Ç (–æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π)](./prompt_optimized.md)**
- üîÑ **[–ö–æ–Ω—Ç—Ä–æ–ª—å –∑–∞—Ü–∏–∫–ª–∏–≤–∞–Ω–∏—è](./LOOP_DETECTION.md)**

## ü§ù –£—á–∞—Å—Ç–∏–µ –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–º–º–∏—Ç–æ–≤
```
feat(core): —É–ª—É—á—à–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
fix(tools): –∏—Å–ø—Ä–∞–≤–∏—Ç—å –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å —É–¥–∞–ª–µ–Ω–∏—è —Ñ–∞–π–ª–æ–≤
docs(readme): –æ–±–Ω–æ–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –ø–æ MCP —Å–µ—Ä–≤–µ—Ä–∞–º
refactor(ui): —É–ª—É—á—à–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
```

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –º–æ–¥—É–ª—è
1. –°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–π –ø–∞–ø–∫–µ
2. –î–æ–±–∞–≤–∏—Ç—å –≤ `__init__.py`
3. –ù–∞–ø–∏—Å–∞—Ç—å —Ç–µ—Å—Ç—ã
4. –û–±–Ω–æ–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é

## üìà –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –ú–µ—Ç—Ä–∏–∫–∏ v4.0 (–û–ë–ù–û–í–õ–ï–ù–û)
- üíæ **–ö—ç—à-–ø–æ–ø–∞–¥–∞–Ω–∏—è**: 65-85% –¥–ª—è –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- üéØ **–¢–æ—á–Ω–æ—Å—Ç—å –≤—ã–±–æ—Ä–∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤**: +25-30%
- ‚úÖ **–£—Å–ø–µ—à–Ω–æ—Å—Ç—å –æ–ø–µ—Ä–∞—Ü–∏–π**: +15-20%
- üîÑ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ**: 70-80% –æ—à–∏–±–æ–∫
- ‚è±Ô∏è **–í—Ä–µ–º—è –æ—Ç–∫–ª–∏–∫–∞**: —Å–Ω–∏–∂–µ–Ω–∏–µ –Ω–∞ 50-70%
- üöÄ **–°–∫–æ—Ä–æ—Å—Ç—å –ø–∞—Ç—Ç–µ—Ä–Ω-–º–∞—Ç—á–∏–Ω–≥–∞**: +30-40% –±–ª–∞–≥–æ–¥–∞—Ä—è –ø—Ä–µ–¥–∫–æ–º–ø–∏–ª—è—Ü–∏–∏ regex
- üß† **–ü–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏**: –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–æ –Ω–∞ 10-15%
- üåê **HTTP —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç—ã**: –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —É–¥–∞–ª–µ–Ω–Ω—ã—Ö MCP —Å–µ—Ä–≤–µ—Ä–æ–≤ –±–µ–∑ –Ω–∞–∫–ª–∞–¥–Ω—ã—Ö —Ä–∞—Å—Ö–æ–¥–æ–≤
- ‚úÖ **–í–∞–ª–∏–¥–∞—Ü–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏**: –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ runtime –æ—à–∏–±–æ–∫ –Ω–∞ —ç—Ç–∞–ø–µ –∑–∞–≥—Ä—É–∑–∫–∏

### –ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ v3.0.1
- ‚úÖ **–ü—Ä–µ–¥–∫–æ–º–ø–∏–ª—è—Ü–∏—è —Ä–µ–≥—É–ª—è—Ä–Ω—ã—Ö –≤—ã—Ä–∞–∂–µ–Ω–∏–π** (–Ω–æ–≤–æ–µ –≤ v3.0.1)
- ‚úÖ **–£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏** –¥–ª—è retry –ª–æ–≥–∏–∫–∏
- ‚úÖ **–ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã –¥–ª—è –º–∞–≥–∏—á–µ—Å–∫–∏—Ö —á–∏—Å–µ–ª** (–Ω–æ–≤–æ–µ –≤ v3.0.1)
- ‚úÖ **–°—Ç—Ä–æ–≥–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è** —Å ParamSpec –∏ TypeVar (–Ω–æ–≤–æ–µ –≤ v3.0.1)
- –ú–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤–æ–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ
- –ü—Ä–∏–æ—Ä–∏—Ç–∏–∑–∞—Ü–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π
- –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤
- –ü—Ä–µ–¥–∏–∫—Ç–∏–≤–Ω—ã–π –≤—ã–±–æ—Ä —Å—Ç—Ä–∞—Ç–µ–≥–∏–π
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±—É—á–µ–Ω–∏–µ –Ω–∞ –æ—à–∏–±–∫–∞—Ö

## üìã –î–µ—Ç–∞–ª–∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ v3.0.1

### üîß –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –º–æ–¥—É–ª–∏

#### `utils/decorators.py`
- –ü—Ä–µ–¥–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω `_RETRY_DELAY_PATTERN`
- –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ `_extract_retry_delay()` –∏ `_is_rate_limit_error()`
- –£–ª—É—á—à–µ–Ω–Ω–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è —Å `ParamSpec` –∏ `TypeVar`
- –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–¥–∞ –º–µ–∂–¥—É `retry_on_failure` –∏ `retry_on_failure_async_gen`

#### `tools/tool_analyzer.py`
- –ü—Ä–µ–¥–∫–æ–º–ø–∏–ª—è—Ü–∏—è –≤—Å–µ—Ö regex –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
- –ú–µ—Ç–æ–¥ `_compile_patterns()` –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ –≤ `analyze_tools()`
- –°–Ω–∏–∂–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü–∏–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –Ω–∞ 30-40%

#### `core/error_recovery.py`
- –ü—Ä–µ–¥–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã: `_TIME_PATTERN`, `_RETRY_DELAY_PATTERN`, `_FILE_PATH_PATTERN`
- –ú–µ—Ç–æ–¥ `_compile_error_patterns()` –¥–ª—è –≤—Å–µ—Ö error –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤
- –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π `_classify_error()` –±–µ–∑ –ø–æ–≤—Ç–æ—Ä–Ω–æ–π –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ regex
- –£–ª—É—á—à–µ–Ω–Ω–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –∏–∑ –æ—à–∏–±–æ–∫

#### `core/agent.py`
- –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã: `MAX_RETRY_ATTEMPTS`, `DEFAULT_THREAD_ID`, `MAX_RECOVERY_SUGGESTIONS`, `RATE_LIMIT_HTTP_CODE`
- –ü—Ä–µ–¥–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–π `_RETRY_DELAY_PATTERN`
- –£–ª—É—á—à–µ–Ω–Ω–∞—è —á–∏—Ç–∞–µ–º–æ—Å—Ç—å –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–æ—Å—Ç—å –∫–æ–¥–∞

#### `main.py`
- –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã –¥–ª—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
- –£–ª—É—á—à–µ–Ω–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ CLI
- –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

## üõ£Ô∏è Roadmap

### v4.1 (–ü–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è)
- [ ] WebSocket —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç –¥–ª—è –¥–≤—É–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–π –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏
- [ ] –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ HTTP —Å–µ—Ä–≤–µ—Ä–∞–º
- [ ] Health checks –¥–ª—è HTTP —Å–µ—Ä–≤–µ—Ä–æ–≤
- [ ] –ú–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ HTTP —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–æ–≤
- [ ] –ü–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ mcp.json

### v4.2 (–ë—É–¥—É—â–µ–µ)
- [ ] –ë–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∞ –Ω–∞–≥—Ä—É–∑–∫–∏ –º–µ–∂–¥—É —Å–µ—Ä–≤–µ—Ä–∞–º–∏
- [ ] –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç–≤–µ—Ç–æ–≤ –æ—Ç HTTP —Å–µ—Ä–≤–µ—Ä–æ–≤
- [ ] –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏–º –¥–∞—à–±–æ—Ä–¥–æ–º
- [ ] API endpoints –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
- [ ] –ü–ª–∞–≥–∏–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π

### v5.0 (–î–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã–µ –ø–ª–∞–Ω—ã)
- [ ] –ú–∞—à–∏–Ω–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ –Ω–∞ –¥–∞–Ω–Ω—ã—Ö –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- [ ] –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ –º–æ–¥–µ–ª–∏ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –∑–∞–¥–∞—á
- [ ] –ü—Ä–µ–¥–∏–∫—Ç–∏–≤–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–µ–π
- [ ] –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- [ ] –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–¥–∞—á

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License - —Å–º. [LICENSE](LICENSE) —Ñ–∞–π–ª –¥–ª—è –¥–µ—Ç–∞–ª–µ–π.

## üôè –ë–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç–∏

- **Google Gemini** –∑–∞ –º–æ—â–Ω—ã–π AI –¥–≤–∏–∂–æ–∫
- **OpenAI** –∑–∞ —Å—Ç–∞–Ω–¥–∞—Ä—Ç API –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º—ã—Ö –º–æ–¥–µ–ª–µ–π
- **OpenRouter** –∏ **Moonshot AI** –∑–∞ –¥–æ—Å—Ç—É–ø –∫ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–º –º–æ–¥–µ–ª—è–º
- **Model Context Protocol** –∑–∞ —Å—Ç–∞–Ω–¥–∞—Ä—Ç –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
- **Rich** –∑–∞ –∫—Ä–∞—Å–∏–≤—ã–π —Ç–µ—Ä–º–∏–Ω–∞–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- **LangChain** –∑–∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã —Ä–∞–±–æ—Ç—ã —Å AI

---

<div align="center">

**Smart Gemini Agent v5.0** - –ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π HTTP/SSE —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–æ–≤, —Å–∞–º–æ–æ–±—É—á–µ–Ω–∏–µ–º –∏ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é! üöÄüåê‚ö°

[–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](docs/) ‚Ä¢ [HTTP Transport Guide](./HTTP_TRANSPORT_GUIDE.md) ‚Ä¢ [–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç](../QUICK_START_HTTP.md) ‚Ä¢ [–£—á–∞—Å—Ç–∏–µ –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ](#—É—á–∞—Å—Ç–∏–µ-–≤-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ) ‚Ä¢ [Roadmap](#roadmap)

</div>

